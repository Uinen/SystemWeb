@model SystemWeb.Models.MapDesignerViewModel
<canvas id="myCanvas" width="57" height="40"></canvas>
<script type=text/javascript>
    var canvas = document.getElementById('myCanvas');
    var context = canvas.getContext('2d');
    //context.canvas.width = window.innerWidth;
    //context.canvas.height = window.innerHeight;
    context.font = 'italic 20pt Calibri';

    //var width = Math.ceil(window.innerWidth / 16);
    //var height = Math.ceil(window.innerHeight / 16);
    var imgs = [];
    var imgIndex;
    //for (var x = 0; x < width; x++) {
        //for (var y = 0; y < height; y++) {
            var texLoc = "http://4vector.com/i/free-vector-gas-pump-clip-art_110105_Gas_Pump_clip_art_hight.png";

            imgs[imgIndex] = new Object();
            imgs[imgIndex].src = texLoc;
            /*imgs[imgIndex].onload =*/ $.getJSON("@Url.Action("MapDesigner")",null, function (mapData) {
                $.each(mapData, function (i, item) {
                    //var thisX = x * 2;
                    //var thisY = y * 2;
                    //return function () {
                        context.fillText([item.mod, 50, 50/* + context.drawImage(this, thisX, thisY)*/])
                    //};
                });
            });
            //imgIndex += 1;
        //}
    //}
</script>
